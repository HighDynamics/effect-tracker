(this["webpackJsonpeffect-tracker"]=this["webpackJsonpeffect-tracker"]||[]).push([[0],[,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(4),s=n.n(a),u=(n(9),n(2)),i=(n(10),n(11),n(0)),o=function(e){e.turnNumber;var t=e.reset,n=e.setModal,c=e.modal,r=e.changeTurn;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"turnManipulatorButtonsContainer",children:[Object(i.jsx)("button",{className:"basicButton turnManipulatorButton",onClick:function(){return r(1,"backward")},children:"<<"}),Object(i.jsx)("button",{className:"jumpTurn"===c?"basicButton turnManipulatorButton pressed":"basicButton turnManipulatorButton",onClick:function(){n("jumpTurn"===c?"off":"jumpTurn")},children:"Jump"}),Object(i.jsx)("button",{className:"basicButton turnManipulatorButton",onClick:function(){return r(1,"forward")},children:">>"})]}),Object(i.jsx)("div",{className:"resetButtonContainer",children:Object(i.jsx)("button",{className:"reset"===c?"resetButton basicButton pressed":"resetButton basicButton",onClick:t,children:"Reset"})})]})};n(13);function l(e){return JSON.parse(JSON.stringify(e))}function f(e){switch(!0){case e===1/0:return"permanent";case e>0:return"active";case e<=0:return"expired";default:return""}}function d(e,t){var n=e.turnUsed+e.duration-t;switch(e.durationType){case"round":break;case"minute":n=e.turnUsed+10*e.duration-t;break;case"hour":n=e.turnUsed+600*e.duration-t;break;case"day":n=e.turnUsed+14400*e.duration-t;break;case"permanent":return 1/0}return n}n(14);var j=function(e){var t=e.addEffect,n=e.turnNumber,r=e.setToggle,a=e.currentEffect,s=e.setToggleEdit,o=e.confirmEditEffect,l=Object(c.useState)(!1),f=Object(u.a)(l,2),d=f[0],j=f[1],b=Object(c.useState)(a?a.name:""),m=Object(u.a)(b,2),O=m[0],h=m[1],p=Object(c.useState)(a?a.target:""),x=Object(u.a)(p,2),N=x[0],v=x[1],C=Object(c.useState)(a?a.details:""),k=Object(u.a)(C,2),B=k[0],g=k[1],T=Object(c.useState)(a?a.duration:1),E=Object(u.a)(T,2),I=E[0],y=E[1],w=Object(c.useState)(a?a.durationType:"round"),S=Object(u.a)(w,2),M=S[0],F=S[1],D=Object(c.useState)(a?a.conditions:""),A=Object(u.a)(D,2),R=A[0],K=A[1],U={name:O,target:N,details:B,duration:I,durationType:M,conditions:R,turnUsed:a?a.turnUsed:n},J=function(e){F(e),j(!1)},L=function(){"permanent"===U.durationType&&(U.duration=1/0)};return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("form",{onSubmit:function(e){e.preventDefault(),a?(L(),o(U),console.log(U),h(""),v(""),g(""),y(1),F("round"),K(""),s(!1)):(L(),t(U),h(""),v(""),g(""),y(1),F("round"),K(""),r(!1))},children:Object(i.jsxs)("div",{className:"formContainer",children:[Object(i.jsxs)("fieldset",{className:"formItem insetContainer",children:[Object(i.jsx)("legend",{className:"formItemTitle",children:"Name"}),Object(i.jsx)("div",{className:"textInputContainer",children:Object(i.jsx)("input",{type:"text",placeholder:"name of effect",className:"textInput",value:O,onChange:function(e){return h(e.target.value)},required:!0})}),Object(i.jsx)("p",{className:"requiredText",children:"* required"})]}),Object(i.jsxs)("fieldset",{className:"formItem insetContainer",children:[Object(i.jsx)("legend",{className:"formItemTitle",children:"Duration"}),Object(i.jsxs)("div",{className:"durationInputContainer",children:[Object(i.jsx)("div",{className:"numberInputContainer",children:Object(i.jsx)("input",{className:"durationNumberInput textInput",type:"number",value:I,onChange:function(e){return y(Number(e.target.value))},required:!0})}),d?null:Object(i.jsx)("div",{role:"button",className:"permanent"===M?"durationTypeSelector basicButton permanent":"durationTypeSelector basicButton",value:""===M?"round":M,onClick:function(){j(!d)},children:"permanent"===M?M:M+"(s)"}),d?Object(i.jsxs)("div",{className:"durationTypeSelectorOptionsContainer",children:[Object(i.jsx)("div",{role:"button",className:"durationTypeSelectorOptions basicButton",value:"round",onClick:function(){return J("round")},children:"round(s)"}),Object(i.jsx)("div",{role:"button",className:"durationTypeSelectorOptions basicButton",value:"minute",onClick:function(){return J("minute")},children:"minute(s)"}),Object(i.jsx)("div",{role:"button",className:"durationTypeSelectorOptions basicButton",value:"hour",onClick:function(){return J("hour")},children:"hour(s)"}),Object(i.jsx)("div",{role:"button",className:"durationTypeSelectorOptions basicButton",value:"day",onClick:function(){return J("day")},children:"day(s)"}),Object(i.jsx)("div",{role:"button",className:"durationTypeSelectorOptions permanent basicButton",value:"permanent",onClick:function(){return J("permanent")},children:"permanent"})]}):null]})," ",Object(i.jsx)("p",{className:"requiredText",children:"* required"})]}),Object(i.jsxs)("fieldset",{className:"formItem insetContainer",children:[Object(i.jsx)("legend",{className:"formItemTitle",children:"Target or Area"}),Object(i.jsx)("div",{className:"textAreaInputContainer",children:Object(i.jsx)("textarea",{rows:"3",cols:"30",className:"textAreaInput",placeholder:"who or what is affected",value:N,onChange:function(e){return v(e.target.value)}})})]}),Object(i.jsxs)("fieldset",{className:"formItem insetContainer",children:[Object(i.jsx)("legend",{className:"formItemTitle",children:"Details"}),Object(i.jsx)("div",{className:"textAreaInputContainer",children:Object(i.jsx)("textarea",{rows:"3",cols:"30",className:"textAreaInput",placeholder:'breif description what effect does. ex.: "+4 armor bonus"',value:B,onChange:function(e){return g(e.target.value)}})})]}),Object(i.jsxs)("fieldset",{className:"formItem insetContainer",children:[Object(i.jsx)("legend",{className:"formItemTitle",children:"Conditions"})," ",Object(i.jsx)("div",{className:"textAreaInputContainer",children:Object(i.jsx)("textarea",{rows:"3",cols:"30",className:"textAreaInput",placeholder:"ex.: must be within 60' of Sabri",value:R,onChange:function(e){return K(e.target.value)}})})]}),Object(i.jsx)("div",{className:"break"}),Object(i.jsxs)("div",{className:"addEffectButtonContainer",children:[Object(i.jsx)("input",{className:"basicButton addEffectButton",type:"submit"}),a?Object(i.jsx)("button",{className:"basicButton cancelEditButton",onClick:function(){return s(!1)},children:"Cancel"}):null]})]})})})},b=function(e){var t,n=e.effect,r=e.turnNumber,a=e.removeEffect,s=e.resetEffectDuration,o=e.editEffect,l=Object(c.useState)(!1),b=Object(u.a)(l,2),m=b[0],O=b[1],h=Object(c.useState)(!1),p=Object(u.a)(h,2),x=p[0],N=p[1],v=n.name,C=n.target,k=n.details,B=n.conditions,g=d(n,r),T=(t=g,[Math.floor(t/10),Math.floor(t%10*6)]),E=function(e){return[Math.floor(e/600),Math.floor(e%600/10)]}(g),I=function(e){return[Math.floor(e/14400),Math.floor(e%14400/600)]}(g);var y=function(e){return e===1/0?"\u221e":e<20?e+" rounds":e>=20&&e<600?T[0]+"m "+T[1]+"s":e>=600&&e<14400?E[0]+"h "+E[1]+"m":e>=14400?I[0]+"d "+I[1]+"h":void 0}(g),w=f(g),S=o(n);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{role:"button",className:m?w+" effectContainer insetContainer":w+" effectContainer",onClick:function(){return O(!m)},children:[Object(i.jsxs)("p",{className:"effectItem",children:[Object(i.jsx)("span",{className:"effectKeys",children:"Name"})," - ",v]}),Object(i.jsxs)("p",{className:"effectItem",children:[Object(i.jsx)("span",{className:"effectKeys",children:"Time Left"})," - ",y]}),m?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"break"}),""!==C?Object(i.jsxs)("p",{className:"effectItem",children:[Object(i.jsx)("span",{className:"effectKeys",children:"Target"})," - ",C]}):null,""!==k?Object(i.jsxs)("p",{className:"effectItem",children:[Object(i.jsx)("span",{className:"effectKeys",children:"Details"})," - ",k]}):null,""!==B?Object(i.jsxs)("p",{className:"effectItem",children:[Object(i.jsx)("span",{className:"effectKeys",children:"Conditions"})," - ",B]}):null,Object(i.jsx)("div",{className:"break"}),Object(i.jsxs)("div",{className:"endResetEffectButtonContainer",children:[Object(i.jsx)("button",{className:"basicButton resetEffectButton",onClick:function(){return s(n)},children:"Reset Duration"}),Object(i.jsx)("button",{className:x?"basicButton editEffectButton pressed":"basicButton editEffectButton",onClick:function(){return N(!x)},children:"Edit"}),Object(i.jsx)("button",{className:"basicButton endEffectButton",onClick:function(){return a(n)},children:"End"})]})]}):null]}),x?Object(i.jsx)(j,{currentEffect:n,setToggleEdit:N,confirmEditEffect:S}):null]})},m=function(e){var t=e.turnNumber,n=e.effects,c=e.setEffects,r=e.removeEffect,a=e.resetEffectDuration,s=e.tracker,u=n[s].effects.sort((function(e,n){return d(e,t)>d(n,t)?1:-1})),o=function(e){return function(t){var r=l(n),a=n[s].effects.findIndex((function(t){return t.name===e.name}));r[s].effects[a]=t,c(r)}},f=u.map((function(e){return Object(i.jsx)(b,{effect:e,removeEffect:r,turnNumber:t,resetEffectDuration:a,editEffect:o},e.name)}));return Object(i.jsx)(i.Fragment,{children:f})},O=(n(15),function(e){var t=e.effect,n=e.handleClick,c=f(d(t,e.turnNumber));return Object(i.jsx)("div",{className:"effectButtonContainer",children:Object(i.jsx)("button",{value:t.name,className:c+" effectButton basicButton",onClick:function(e){return n(e)},children:t.name},t.name)})}),h=function(e){var t=e.effects,n=e.setEffectsAndResetRounds,r=e.turnNumber,a=Object(c.useState)(t.filter((function(e){return"permanent"===e.durationType}))),s=Object(u.a)(a,2),o=s[0],f=s[1],d=Object(c.useState)(t.filter((function(e){return"permanent"!==e.durationType}))),j=Object(u.a)(d,2),b=j[0],m=j[1],h=function(e){var t=e.target.value;if(o.some((function(e){return e.name===t}))){var n=o.findIndex((function(e){return e.name===t})),c=o.find((function(e){return e.name===t})),r=l(o),a=l(b);r.splice(n,1),a.push(c),f(r),m(a),console.log(o),console.log(b)}else{var s=b.findIndex((function(e){return e.name===t})),u=b.find((function(e){return e.name===t})),i=l(o),d=l(b);d.splice(s,1),i.push(u),f(i),m(d)}},p=o.map((function(e){return Object(i.jsx)(O,{handleClick:h,turnNumber:r,effect:e},e.name)})),x=b.map((function(e){return Object(i.jsx)(O,{handleClick:h,turnNumber:r,effect:e},e.name)}));return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"keepEffectsContainer",children:[Object(i.jsx)("h4",{className:"keepEffectsHeader",children:"Current Effects"}),Object(i.jsxs)("div",{className:"keepLoseHeaders",children:[Object(i.jsx)("p",{className:"smallHeaders",children:"Keep"}),Object(i.jsx)("p",{className:"smallHeaders",children:"Lose"})]}),Object(i.jsxs)("div",{className:"listOfEffectsContainer",children:[Object(i.jsx)("div",{className:"effectsToKeepContainer insetContainer",children:p}),Object(i.jsx)("div",{className:"effectsToLoseContainer insetContainer",children:x})]}),Object(i.jsx)("div",{className:"confirmKeepersButtonContainer",children:Object(i.jsx)("button",{className:"basicButton confirmKeepersButton",onClick:function(){return n(o)},children:"Confirm Reset"})})]})})},p=function(e){var t=e.changeTurn,n=Object(c.useState)(1),r=Object(u.a)(n,2),a=r[0],s=r[1],o=Object(c.useState)("forward"),l=Object(u.a)(o,2),f=l[0],d=l[1];return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"jumpTurnContentContainer",children:[Object(i.jsxs)("div",{className:"jumpOptionsButtonContainer",children:[Object(i.jsx)("button",{className:"forward"===f?"jumpOptionsButton basicButton pressed":"jumpOptionsButton basicButton",value:"forward",onClick:function(e){return d(e.target.value)},children:"Number of rounds forward"}),Object(i.jsx)("button",{className:"backward"===f?"jumpOptionsButton basicButton pressed":"jumpOptionsButton basicButton",value:"backward",onClick:function(e){return d(e.target.value)},children:"Number of rounds backward"}),Object(i.jsx)("button",{className:"goTo"===f?"jumpOptionsButton basicButton pressed":"jumpOptionsButton basicButton",value:"goTo",onClick:function(e){return d(e.target.value)},children:"To specified round"})]}),Object(i.jsxs)("div",{className:"jumpNumberInputAndGoButtonContainer",children:[Object(i.jsx)("div",{className:"numberInputContainer",children:Object(i.jsx)("input",{type:"number",className:"durationNumberInput textInput jumpNumberInput",value:a,onChange:function(e){return s(Number(e.target.value))}})}),Object(i.jsx)("button",{className:"goButton basicButton",onClick:function(){return t(a,f)},children:"Go"})]})]})})},x=function(e){var t=e.setModal,n=e.modal,c=e.changeTurn,r=e.turnNumber,a=e.effects,s=e.setEffects,u=e.tracker,o=function(e){var n=l(a);n[u].effects=e,n[u].turn=1,s(n),t("off")};return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"modalBody topContainer",children:[Object(i.jsx)("div",{className:"modalContent",children:function(e){switch(e){case"jumpTurn":return Object(i.jsx)(p,{changeTurn:c});case"reset":return Object(i.jsx)(h,{effects:a[u].effects,setEffectsAndResetRounds:o,turnNumber:r});default:return""}}(n)}),Object(i.jsx)("div",{className:"closeModalButtonContainer",children:Object(i.jsx)("button",{className:"basicButton closeModalButton",onClick:function(){return t("off")},children:"jumpTurn"===n?"Close":"Cancel"})})]})})},N=(n(16),function(e){var t=e.effects,n=e.setEffects,c=e.tracker,r=e.setTracker,a=function(e){var a=prompt("Please enter a name for this tracker","");if(null===a&&""===c||""===a&&""===c)a=Object.keys(t).length;else if(null===a&&""!==c||""===a&&""!==c)return c;if(t.hasOwnProperty(a))return alert("Duplicate tracker name found, please try again");var s=l(t);switch(!0){case"newTracker"===e.target.value:s[a]={turn:1,effects:[]},n(s);break;case"renameTracker"===e.target.value:s[a]=l(s[c]),r(a),delete s[c],n(s);break;default:alert("Something went wrong")}};return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"trackerNameButtonsContainer",children:[Object.keys(t).map((function(e){return Object(i.jsx)("button",{value:e,onClick:function(e){return r(e.target.value)},className:c===e?"basicButton trackerNameButton pressed":"basicButton trackerNameButton",children:e},e)})),Object(i.jsx)("div",{className:"break"}),Object(i.jsxs)("div",{className:"editAndNewTrackerButtonsContainer",children:[Object(i.jsx)("button",{className:"basicButton",value:"renameTracker",onClick:function(e){return a(e)},children:"Rename"}),Object(i.jsx)("button",{className:"basicButton deleteTrackerButton",value:"deleteTracker",onClick:function(){if(void 0===Object.keys(t)[1])return alert("Cannot have zero trackers. Use [Reset] instead.");var e=l(t);delete e[c],r(Object.keys(t)[0]),n(e)},children:"Delete"}),Object(i.jsx)("button",{className:"basicButton",value:"newTracker",onClick:function(e){return a(e)},children:"New"})]})]})})});var v=function(){var e=Object(c.useState)(JSON.parse(localStorage.getItem("effects"))||{1:{turn:1,effects:[]}}),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(Object.keys(n)[0]),s=Object(u.a)(a,2),f=s[0],d=s[1],b=Object(c.useState)(!1),O=Object(u.a)(b,2),h=O[0],p=O[1],v=Object(c.useState)(!1),C=Object(u.a)(v,2),k=C[0],B=C[1],g=Object(c.useState)("off"),T=Object(u.a)(g,2),E=T[0],I=T[1],y=n[f].turn;Object(c.useEffect)((function(){localStorage.setItem("effects",JSON.stringify(n))}),[n]);var w=function(e,t){var c=l(n);switch(t){case"forward":c[f].turn+=e;break;case"backward":c[f].turn-=e;break;case"goTo":c[f].turn=e;break;default:return e}r(c)};return Object(i.jsx)("div",{className:"app",children:Object(i.jsxs)("div",{className:"shadow",children:[Object(i.jsxs)("div",{className:"topContainer",children:[Object(i.jsx)("h1",{className:"title",children:"Effect Tracker"}),Object(i.jsx)("div",{className:"manageTrackersButtonContainer",children:Object(i.jsx)("button",{className:k?"basicButton manageTrackersButton pressed":"basicButton manageTrackersButton",onClick:function(){return B(!k)},children:"Manage Trackers"})}),k?Object(i.jsx)("div",{className:"manangeTrackersContainer insetContainer",children:Object(i.jsx)(N,{effects:n,setEffects:r,tracker:f,setTracker:d})}):null,Object(i.jsxs)("h2",{className:"turnCount",children:[f,": Turn ",y]}),Object(i.jsx)(o,{turnNumber:y,reset:function(){if("reset"===E)I("off");else if(n[f].effects.length>0)I("reset");else{var e=l(n);e[f].turn=1,r(e)}},setModal:I,modal:E,changeTurn:w}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"newEffectButtonContainer",children:Object(i.jsx)("button",{className:h?"newEffectButton basicButton pressed":"newEffectButton basicButton",onClick:function(){return p(!h)},children:"New Effect"})}),h?Object(i.jsx)(j,{addEffect:function(e){var t=l(n);t[f].effects.push(e),r(t)},turnNumber:y,setToggle:p}):null,"off"!==E?Object(i.jsx)(x,{setModal:I,modal:E,tracker:f,turnNumber:y,changeTurn:w,effects:n,setEffects:r}):null]}),Object(i.jsx)("div",{className:"effectsListContainer",children:Object(i.jsx)(m,{turnNumber:y,effects:n,setEffects:r,removeEffect:function(e){var t=l(n),c=t[f].effects.findIndex((function(t){return t.name===e.name}));t[f].effects.splice(c,1),r(t)},resetEffectDuration:function(e){var t=l(n),c=t[f].effects.findIndex((function(t){return t.name===e.name}));t[f].effects[c].turnUsed=y,r(t)},tracker:f})})]})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(v,{})}),document.getElementById("root")),C()}],[[17,1,2]]]);
//# sourceMappingURL=main.5988350e.chunk.js.map